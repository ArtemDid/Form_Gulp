const post_form=document.querySelector("[name = 'postForm']"),firstName=document.querySelector("[name = 'first']"),secondName=document.querySelector("[name = 'second']"),address=document.querySelector("[name = 'email']"),date=document.querySelector("[name = 'date']"),gender=document.querySelectorAll("[name = 'gender']"),teh=document.querySelectorAll("[name = 'teh']"),submitbtn=document.querySelector("[name = 'submit_btn']"),rem_check=document.querySelector("[name = 'remember']"),passName=document.querySelectorAll("[name = 'password']");var validationSummary="";function validate(e){let a=!0;validationSummary="";return firstName.value||(a=!1,validationSummary+="Имя пустое!\n"),secondName.value||(a=!1,validationSummary+="Фамилия пуста!\n"),address.value?0==/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(address.value)&&(a=!1,validationSummary+="Введите корректный e-mail!\n"):(a=!1,validationSummary+="Логин пуст!\n"),a}function dateAge(e){let a=!0;if(date.value){let e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(date.value),l=new Date(t.getFullYear(),n.getMonth(),n.getDate()),o=t.getFullYear()-n.getFullYear();t<l&&(o-=1),o<18&&(a=!1,validationSummary+="Ваш возраст меньше 18!\n")}else a=!1,validationSummary+="Дата пустая!\n";return a}function checkTeh(e){let a=0,t=!0;for(let e of teh)e.checked&&a++;return a<3&&(t=!1,validationSummary+="Должно быть выбрано 3 и более значений!\n"),t}function checkPass(e){let a=!0;return passName[0].value?passName[0].value!==passName[1].value?(a=!1,validationSummary+="Пароли должны совпадать\n"):0==/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[^\w\s]).{6,}/.test(passName[0].value)&&(a=!1,validationSummary+="Введите корректный пароль!\n"):(a=!1,validationSummary+="Пароль пуст!\n"),a}var ls=window.localStorage;function checkRemember(e){if(rem_check.checked){const e=JSON.stringify(address.value),a=JSON.stringify(passName[0].value);null!=window.localStorage?(ls.setItem("login",e),ls.setItem("password",a)):document.cookie="login="+e+"; password="+a+"; "}else ls.clear()}function getCookie(e){let a=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return a?decodeURIComponent(a[1]):void 0}window.addEventListener("load",(e=>{ls.length>0?(address.value=JSON.parse(ls.getItem("login")),passName[0].value=JSON.parse(ls.getItem("password"))):document.cookie.length>0&&(address.value=getCookie("login"),passName[0].value=getCookie("password"))})),submitbtn.addEventListener("click",(e=>{e.preventDefault(),validate(this)&&dateAge(this)&&checkTeh(this)&&checkPass(this)?(checkRemember(this),post_form.submit(),alert("Отправлено!")):alert(validationSummary)}));